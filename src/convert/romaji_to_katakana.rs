pub fn romaji_to_katakana(romaji: String) -> String {
    let mut chars = romaji.chars();
    if chars.clone().nth(0) == chars.clone().nth(1) {
        chars.next();
        format!("{}{}", "ッ", katakana_map(String::from(chars.as_str())))
    } else {
        katakana_map(String::from(chars.as_str()))
    }
}

fn katakana_map(romaji: String) -> String {
    match romaji.as_ref() {
        "a" => "ア",
        "i" => "イ",
        "u" => "ウ",
        "e" => "エ",
        "o" => "オ",
        "-" => "ー",
        "xa" => "ァ",
        "xi" => "ィ",
        "xu" => "ゥ",
        "xe" => "ェ",
        "xo" => "ォ",
        "ka" => "カ",
        "ki" => "キ",
        "ku" => "ク",
        "ke" => "ケ",
        "ko" => "コ",
        "ca" => "カ",
        "cu" => "ク",
        "co" => "コ",
        "ga" => "ガ",
        "gi" => "ギ",
        "gu" => "グ",
        "ge" => "ゲ",
        "go" => "ゴ",
        "sa" => "サ",
        "si" => "シ",
        "su" => "ス",
        "se" => "セ",
        "so" => "ソ",
        "za" => "ザ",
        "zi" => "ジ",
        "zu" => "ズ",
        "ze" => "ゼ",
        "zo" => "ゾ",
        "ja" => "ジャ",
        "ji" => "ジ",
        "ju" => "ジュ",
        "je" => "ジェ",
        "jo" => "ジョ",
        "ta" => "タ",
        "ti" => "チ",
        "tu" => "ツ",
        "te" => "テ",
        "to" => "ト",
        "da" => "ダ",
        "di" => "ヂ",
        "du" => "ヅ",
        "de" => "デ",
        "do" => "ド",
        "na" => "ナ",
        "ni" => "ニ",
        "nu" => "ヌ",
        "ne" => "ネ",
        "no" => "ノ",
        "ha" => "ハ",
        "hi" => "ヒ",
        "hu" => "フ",
        "he" => "ヘ",
        "ho" => "ホ",
        "ba" => "バ",
        "bi" => "ビ",
        "bu" => "ブ",
        "be" => "ベ",
        "bo" => "ボ",
        "pa" => "パ",
        "pi" => "ピ",
        "pu" => "プ",
        "pe" => "ペ",
        "po" => "ポ",
        "va" => "ヴァ",
        "vi" => "ヴィ",
        "vu" => "ヴ",
        "ve" => "ヴェ",
        "vo" => "ヴォ",
        "fa" => "ファ",
        "fi" => "フィ",
        "fu" => "フ",
        "fe" => "フェ",
        "fo" => "フォ",
        "ma" => "マ",
        "mi" => "ミ",
        "mu" => "ム",
        "me" => "メ",
        "mo" => "モ",
        "ya" => "ヤ",
        "yi" => "イ",
        "yu" => "ユ",
        "ye" => "イェ",
        "yo" => "ヨ",
        "ra" => "ラ",
        "ri" => "リ",
        "ru" => "ル",
        "re" => "レ",
        "ro" => "ロ",
        "la" => "ラ",
        "li" => "リ",
        "lu" => "ル",
        "le" => "レ",
        "lo" => "ロ",
        "wa" => "ワ",
        "wi" => "ウィ",
        "wu" => "ウ",
        "we" => "ウェ",
        "wo" => "ヲ",
        "nn" => "ン",
        "n" => "ン",
        "m" => "ン",
        "tsu" => "ツ",
        "xka" => "ヵ",
        "xke" => "ヶ",
        "xwa" => "ヮ",
        "xtsu" => "ッ",
        "xya" => "ャ",
        "xyu" => "ュ",
        "xyo" => "ョ",
        "kya" => "キャ",
        "kyi" => "キィ",
        "kyu" => "キュ",
        "kye" => "キェ",
        "kyo" => "キョ",
        "gya" => "ギャ",
        "gyi" => "ギィ",
        "gyu" => "ギュ",
        "gye" => "ギェ",
        "gyo" => "ギョ",
        "sya" => "シャ",
        "syi" => "シィ",
        "syu" => "シュ",
        "sye" => "シェ",
        "syo" => "ショ",
        "sha" => "シャ",
        "shi" => "シ",
        "shu" => "シュ",
        "she" => "シェ",
        "sho" => "ショ",
        "zya" => "ジャ",
        "zyi" => "ジィ",
        "zyu" => "ジュ",
        "zye" => "ジェ",
        "zyo" => "ジョ",
        "jya" => "ジャ",
        "jyi" => "ジィ",
        "jyu" => "ジュ",
        "jye" => "ジェ",
        "jyo" => "ジョ",
        "tya" => "チャ",
        "tyi" => "チィ",
        "tyu" => "チュ",
        "tye" => "チェ",
        "tyo" => "チョ",
        "twa" => "トァ",
        "twi" => "トィ",
        "twu" => "トゥ",
        "twe" => "トェ",
        "two" => "トォ",
        "dwa" => "ドァ",
        "dwi" => "ドィ",
        "dwu" => "ドゥ",
        "dwe" => "ドェ",
        "dwo" => "ドォ",
        "cya" => "チャ",
        "cyi" => "チィ",
        "cyu" => "チュ",
        "cye" => "チェ",
        "cyo" => "チョ",
        "cha" => "チャ",
        "chi" => "チ",
        "chu" => "チュ",
        "che" => "チェ",
        "cho" => "チョ",
        "tha" => "テャ",
        "thi" => "ティ",
        "thu" => "テュ",
        "the" => "テェ",
        "tho" => "テョ",
        "dya" => "ヂャ",
        "dyi" => "ヂィ",
        "dyu" => "ヂュ",
        "dye" => "ヂェ",
        "dyo" => "ヂョ",
        "dha" => "デャ",
        "dhi" => "ディ",
        "dhu" => "デュ",
        "dhe" => "デェ",
        "dho" => "デョ",
        "nya" => "ニャ",
        "nyi" => "ニィ",
        "nyu" => "ニュ",
        "nye" => "ニェ",
        "nyo" => "ニョ",
        "hya" => "ヒャ",
        "hyi" => "ヒィ",
        "hyu" => "ヒュ",
        "hye" => "ヒェ",
        "hyo" => "ヒョ",
        "bya" => "ビャ",
        "byi" => "ビィ",
        "byu" => "ビュ",
        "bye" => "ビェ",
        "byo" => "ビョ",
        "pya" => "ピャ",
        "pyi" => "ピィ",
        "pyu" => "ピュ",
        "pye" => "ピェ",
        "pyo" => "ピョ",
        "mya" => "ミャ",
        "myi" => "ミィ",
        "myu" => "ミュ",
        "mye" => "ミェ",
        "myo" => "ミョ",
        "rya" => "リャ",
        "ryi" => "リィ",
        "ryu" => "リュ",
        "rye" => "リェ",
        "ryo" => "リョ",
        "lya" => "リャ",
        "lyi" => "リィ",
        "lyu" => "リュ",
        "lye" => "リェ",
        "lyo" => "リョ",
        kana => kana
    }.to_string()
}

#[test]
fn test_romaji_to_katakana() {
    assert_eq!("ア", romaji_to_katakana("a".to_string()));
    assert_eq!("チョ", romaji_to_katakana("cho".to_string()));
    assert_eq!("ー", romaji_to_katakana("-".to_string()));
    assert_eq!("ット", romaji_to_katakana("tto".to_string()));
}
